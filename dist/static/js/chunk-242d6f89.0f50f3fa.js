(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-242d6f89"],{"2b89":function(t,e,n){},"62b5":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container",staticStyle:{"text-align":"center"}},[1==t.step?n("div",[n("el-form",{ref:"form",staticClass:"form",attrs:{model:t.form,rules:t.formRules,"label-width":"180px"}},[n("el-form-item",{attrs:{prop:"text",label:"输入要生成的报告名称"}},[n("el-input",{ref:"text",attrs:{placeholder:"输入要生成的报告名称"},on:{blur:t.titleLabel},model:{value:t.form.text,callback:function(e){t.$set(t.form,"text",e)},expression:"form.text"}})],1),n("el-form-item",{attrs:{prop:"labels",label:"选择要输入报告的关键词"}},[n("el-select",{ref:"labels",staticStyle:{width:"100%"},attrs:{clearable:"",multiple:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"选择要输入报告的关键词，用回车添加"},on:{change:t.keywordChange},model:{value:t.form.labels,callback:function(e){t.$set(t.form,"labels",e)},expression:"form.labels"}},t._l(t.keyword_option,(function(t,e){return n("el-option",{key:t+e,attrs:{label:t,value:t}})})),1)],1),n("p",{staticStyle:{"text-align":"left"}},[t._v("设置报告的篇章结构")]),n("div",{staticClass:"sc-container"},t._l(t.templates,(function(e,r){return n("div",{key:"template"+r,staticClass:"theme",class:t.selectIndex===r?"selectTheme":"theme",on:{click:function(e){return t.templateClick(r)}}},[n("div",{staticClass:"themeContent",domProps:{innerHTML:t._s(e)}})])})),0),n("el-button",{staticStyle:{"margin-top":"40px",width:"300px"},attrs:{type:"primary"},on:{click:t.nextStep}},[t._v("下一步")]),n("p",{staticStyle:{"text-align":"left"}},[t._v("我的报告")]),n("div",{staticClass:"sc-container"},t._l(t.myArticle,(function(e,r){return n("div",{key:"template"+r,staticClass:"theme",on:{click:function(e){return t.articleClick(r)}}},[n("div",{staticClass:"themeContent",domProps:{innerHTML:t._s(e.title)}})])})),0)],1)],1):2==t.step?n("div",[n("div",{staticStyle:{"text-align":"left",padding:"30px"}},[n("div",[t._v(t._s(t.getStr()))]),n("div",{staticClass:"template",domProps:{innerHTML:t._s(t.getChapter())}})]),n("el-button",{staticStyle:{"margin-top":"40px",width:"300px"},attrs:{type:"primary"},on:{click:t.nextStep}},[t._v("下一步")])],1):t._e()])},i=[],a=(n("a15b"),n("fb6a"),n("e9c4"),n("d3b7"),n("4d63"),n("ac1f"),n("2c3e"),n("25f0"),n("5319"),n("159b"),n("caf6")),o=n("fa7d"),c=n("5f87"),s=n("5c96"),l={data:function(){var t=function(t,e,n){e.length<1?n(new Error("请输入关键词")):n()},e=function(t,e,n){Object(o["e"])(e).length<1?n(new Error("请输入主题")):n()};return{form:{text:"百度碳中和报告",labels:["百度","报告"]},keyword_option:[],templates:["<b>结构模板1</b>","<b>结构模板2</b>","<b>结构模板3</b>"],selectIndex:-1,templateData:"",step:1,formRules:{name:[{required:!1,trigger:"blur",validator:e}],labels:[{required:!1,trigger:"blur",validator:t}]},myArticle:void 0}},computed:{},mounted:function(){this.getMyArticle()},methods:{getMyArticle:function(){var t=this,e=Object(c["b"])();Object(a["a"])({uid:e}).then((function(e){t.myArticle=e.articles})).catch((function(t){console.log("error=="+JSON.stringify(t))}))},titleLabel:function(){var t=this,e=Object(o["e"])(this.form.text);e.length>1&&Object(a["h"])({text:e}).then((function(e){t.keyword_option=e.data})).catch((function(t){console.log("error=="+JSON.stringify(t))}))},keywordChange:function(){var t=this,e=this.form.labels.slice(-1)[0];e?Object(a["f"])({text:e,type:"words"}).then((function(e){t.keyword_option=e.data})).catch((function(t){console.log("error=="+JSON.stringify(t))})):this.titleLabel()},send:function(t){var e=this,n={},r=Object(c["b"])();n=this.selectIndex==t?{text:i,num:t+1,uid:r}:{text:i,num:t+1};var i=Object(o["e"])(this.form.text);Object(a["g"])(n).then((function(t){e.templateData=t.data,Object(o["d"])(t.data),e.getChapter()})).catch((function(t){console.log("error=="+JSON.stringify(t))}))},templateClick:function(t){var e=Object(o["e"])(this.form.text);e.length<2?Object(s["Message"])({message:"请输入报告名称",type:"error",duration:1500}):this.selectIndex!=t&&(this.send(t),this.selectIndex=t)},articleClick:function(t){var e=this.myArticle[t];Object(o["d"])(e),this.$router.push("/esgtask/edittemp")},getStr:function(){var t=this.selectIndex+1;return"根据选择的助理，好篇章写作机器人，将为你创作一遍符合【结构模板"+t+"】，不少于2000字的，围绕"+this.form.text+"的"+this.form.labels.join("、")+"等"+this.form.labels.length+"个关键词ESG报告草稿，全文构思如下："},getChapter:function(){var t=this.templateData,e=t.p_num,n=t.title+"<br>",r=[];for(var i in e.forEach((function(t){r.push("chapter"+t)})),this.templateData)if(-1!=r.indexOf(i)){var a=this.templateData[i]+"<br><br>";n+=a}var o=new RegExp("\n","g");return n.replace(o,"<br>")},nextStep:function(){1==this.step?this.step+=1:(this.send(this.selectIndex),Object(o["c"])(this.form.labels.join(",")),this.$router.push("/esgtask/edittemp"))},onSubmit:function(){}}},u=l,f=(n("b9c6"),n("2877")),d=Object(f["a"])(u,r,i,!1,null,"d7c11250",null);e["default"]=d.exports},a15b:function(t,e,n){"use strict";var r=n("23e7"),i=n("44ad"),a=n("fc6a"),o=n("a640"),c=[].join,s=i!=Object,l=o("join",",");r({target:"Array",proto:!0,forced:s||!l},{join:function(t){return c.call(a(this),void 0===t?",":t)}})},b9c6:function(t,e,n){"use strict";n("2b89")},caf6:function(t,e,n){"use strict";n.d(e,"i",(function(){return i})),n.d(e,"l",(function(){return a})),n.d(e,"k",(function(){return o})),n.d(e,"j",(function(){return c})),n.d(e,"h",(function(){return l})),n.d(e,"f",(function(){return u})),n.d(e,"g",(function(){return f})),n.d(e,"d",(function(){return d})),n.d(e,"b",(function(){return p})),n.d(e,"c",(function(){return h})),n.d(e,"a",(function(){return m}));var r=n("b775");function i(t){return Object(r["a"])({url:"/users/login",method:"post",data:t})}function a(t){return Object(r["a"])({url:"/users/verify_invitation",method:"post",data:t})}function o(t){return Object(r["a"])({url:"/users/send_reg_code",method:"post",data:t})}function c(t){return Object(r["a"])({url:"/users/register",method:"post",data:t})}function s(t,e){return Object(r["a"])({url:t,method:"post",transformRequest:[function(t){var e="";for(var n in t)e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n])+"&";return e=e.substring(0,e.lastIndexOf("&")),e}],data:e})}function l(t){return s("/hao-pian-zhang-api/title_label",t)}function u(t){return s("/hao-pian-zhang-api/sim",t)}function f(t){return s("/hao-pian-zhang-api/template",t)}function d(t){return s("/hao-pian-zhang-api/search",t)}function p(t){return s("/hao-pian-zhang-api/paragraphs",t)}function h(t){return s("/hao-pian-zhang-api/save_paragraphs",t)}function m(t){return s("/hao-pian-zhang-api/my_article",t)}},fa7d:function(t,e,n){"use strict";n.d(e,"e",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return c})),n.d(e,"d",(function(){return s})),n.d(e,"b",(function(){return l}));n("ac1f"),n("5319");var r=n("a78e"),i=n.n(r);function a(t){return t.replace(/^\s*|\s*$/g,"")}function o(t){return i.a.set("key_word",t)}function c(){return i.a.get("key_word")}function s(t){return i.a.set("select_templated",t)}function l(){return i.a.get("select_templated")}}}]);