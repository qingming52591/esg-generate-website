(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ac750e08"],{5874:function(e,t,n){},"6bec":function(e,t,n){},"77b3":function(e,t,n){"use strict";n("5874")},"868d":function(e,t,n){"use strict";n("6bec")},"9ed6":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login-container"},[n("el-form",{directives:[{name:"show",rawName:"v-show",value:0==e.showIndex,expression:"showIndex==0"}],ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.loginRules,"auto-complete":"on","label-position":"left"}},[n("div",{staticClass:"title-container"},[n("h3",{staticClass:"title"},[e._v("ESG报告自动生成")])]),n("el-form-item",{staticStyle:{"background-color":"#E8F0FE"},attrs:{prop:"mobile"}},[n("span",{staticClass:"svg-container"},[n("svg-icon",{attrs:{"icon-class":"user"}})],1),n("el-input",{ref:"mobile",attrs:{placeholder:"请输入手机号",name:"mobile",oninput:"value=value.replace(/[^\\d]/g,'')",maxlength:"11",tabindex:"1","auto-complete":"on"},model:{value:e.loginForm.mobile,callback:function(t){e.$set(e.loginForm,"mobile",t)},expression:"loginForm.mobile"}})],1),n("el-form-item",{staticStyle:{"background-color":"#E8F0FE"},attrs:{prop:"password"}},[n("span",{staticClass:"svg-container"},[n("svg-icon",{attrs:{"icon-class":"password"}})],1),n("el-input",{ref:"password",attrs:{placeholder:"请输入密码",name:"password",minlength:"4",tabindex:"2","auto-complete":"on",type:e.passwordType},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}}),n("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[n("svg-icon",{attrs:{"icon-class":"password"===e.passwordType?"eye":"eye-open"}})],1)],1),n("el-button",{staticStyle:{width:"100%",margin:"10px 0"},attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e._v("登录")]),n("el-button",{staticStyle:{width:"100%",margin:"20px 0"},nativeOn:{click:function(t){return t.preventDefault(),e.handleRegister(t)}}},[e._v("注册")])],1),n("el-form",{directives:[{name:"show",rawName:"v-show",value:1==e.showIndex,expression:"showIndex==1"}],ref:"invitForm",staticClass:"login-form",attrs:{model:e.invitForm,rules:e.invitRules,"auto-complete":"on","label-position":"left"}},[n("div",{staticClass:"title-container"},[n("h3",{staticClass:"title"},[e._v("注册")])]),n("el-form-item",{staticStyle:{"background-color":"#E8F0FE"},attrs:{prop:"mobile"}},[n("span",{staticClass:"svg-container"},[n("svg-icon",{attrs:{"icon-class":"user"}})],1),n("el-input",{ref:"mobile",attrs:{placeholder:"请输入手机号",name:"mobile",oninput:"value=value.replace(/[^\\d]/g,'')",maxlength:"11",tabindex:"1","auto-complete":"on"},model:{value:e.invitForm.mobile,callback:function(t){e.$set(e.invitForm,"mobile",t)},expression:"invitForm.mobile"}})],1),n("el-form-item",{staticStyle:{"background-color":"#E8F0FE"},attrs:{prop:"invite_code"}},[n("span",{staticClass:"svg-container"},[n("svg-icon",{attrs:{"icon-class":"password"}})],1),n("el-input",{ref:"invite_code",staticStyle:{width:"280px"},attrs:{placeholder:"请输入邀请码",name:"password",tabindex:"2","auto-complete":"on"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.nextStep(t)}},model:{value:e.invitForm.invite_code,callback:function(t){e.$set(e.invitForm,"invite_code",t)},expression:"invitForm.invite_code"}}),n("span",{staticClass:"svg-container",staticStyle:{width:"100px"}},[n("el-button",{attrs:{type:"primary"},on:{click:e.getInviteCode}},[e._v("获取邀请码")])],1)],1),n("el-button",{staticStyle:{width:"100%",margin:"20px 0"},attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.nextStep(t)}}},[e._v("下一步")])],1),n("el-form",{directives:[{name:"show",rawName:"v-show",value:2==e.showIndex,expression:"showIndex==2"}],ref:"registerForm",staticClass:"login-form",attrs:{model:e.registerForm,rules:e.registerRules,"auto-complete":"on","label-position":"left"}},[n("div",{staticClass:"title-container"},[n("h3",{staticClass:"title"},[e._v("注册")])]),n("el-form-item",{staticStyle:{"background-color":"#E8F0FE"},attrs:{prop:"mobile"}},[n("span",{staticClass:"svg-container"},[n("svg-icon",{attrs:{"icon-class":"user"}})],1),n("el-input",{ref:"mobile",attrs:{placeholder:"请输入手机号",name:"mobile",oninput:"value=value.replace(/[^\\d]/g,'')",maxlength:"11",tabindex:"1","auto-complete":"on",readonly:""},model:{value:e.registerForm.mobile,callback:function(t){e.$set(e.registerForm,"mobile",t)},expression:"registerForm.mobile"}})],1),n("el-form-item",{staticStyle:{"background-color":"#E8F0FE"},attrs:{prop:"reg_code"}},[n("span",{staticClass:"svg-container"},[n("svg-icon",{attrs:{"icon-class":"password"}})],1),n("el-input",{ref:"reg_code",staticStyle:{width:"50%"},attrs:{oninput:"value=value.replace(/[^\\d]/g,'')",maxlength:"4",placeholder:"请输入验证码",tabindex:"2","auto-complete":"on"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.nextStep(t)}},model:{value:e.registerForm.reg_code,callback:function(t){e.$set(e.registerForm,"reg_code",t)},expression:"registerForm.reg_code"}}),n("el-button",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticStyle:{float:"right","margin-top":"6px"},attrs:{type:"primary"},on:{click:e.getCode}},[e._v("获取验证码")]),n("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.show,expression:"!show"}],staticStyle:{float:"right","margin-top":"6px",width:"112px"},attrs:{disabled:""}},[e._v(e._s(e.count)+" s")])],1),n("el-form-item",{staticStyle:{"background-color":"#E8F0FE"},attrs:{prop:"password"}},[n("span",{staticClass:"svg-container"},[n("svg-icon",{attrs:{"icon-class":"password"}})],1),n("el-input",{ref:"password",attrs:{placeholder:"请输入密码",tabindex:"2","auto-complete":"on"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.nextStep(t)}},model:{value:e.registerForm.password,callback:function(t){e.$set(e.registerForm,"password",t)},expression:"registerForm.password"}})],1),n("el-button",{staticStyle:{width:"100%",margin:"20px 0"},attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.nextStep(t)}}},[e._v("下一步")])],1)],1)},i=[],r=n("5530"),a=(n("e9c4"),n("ac1f"),n("00b4"),n("caf6")),s=n("5f87"),l=n("2f62"),c={name:"Login",data:function(){var e=function(e,t,n){var o=/^((13|14|15|16|17|18|19)[0-9]{1}\d{8})$/;o.test(t)?n():n(new Error("请输入正确的手机号"))},t=function(e,t,n){!t||t.length<4?n(new Error("请输入正确的密码")):n()},n=function(e,t,n){!t||t.length<4?n(new Error("请输入正确的邀请码")):n()};return{loginForm:{mobile:void 0,password:void 0,domain:"jb.yueli.com"},loginRules:{mobile:[{required:!0,trigger:"blur",validator:e}],password:[{required:!0,trigger:"blur",validator:t}]},invitForm:{mobile:void 0,invite_code:void 0,domain:"jb.yueli.com"},invitRules:{mobile:[{required:!0,trigger:"blur",validator:e}],invite_code:[{required:!0,trigger:"blur",validator:n}]},registerForm:{mobile:void 0,reg_code:void 0,password:void 0,domain:"jb.yueli.com"},registerRules:{mobile:[{required:!0,trigger:"blur",validator:e}],password:[{required:!0,trigger:"blur",validator:t}],reg_code:[{required:!0,trigger:"blur",validator:n}]},loading:!1,passwordType:"password",redirect:void 0,showIndex:0,show:!0,count:0}},computed:Object(r["a"])({},Object(l["c"])(["admin"])),watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0}},methods:Object(r["a"])(Object(r["a"])({},Object(l["b"])(["setHomeInfo"])),{},{showPwd:function(){var e=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((function(){e.$refs.password.focus()}))},handleLogin:function(){Object(s["e"])(""),Object(s["d"])("admin"),Object(s["f"])("uid"),this.$router.push({path:this.redirect||"/"})},handleRegister:function(){this.showIndex=1},nextStep:function(){var e=this;1===this.showIndex?(this.registerForm.mobile=this.invitForm.mobile,this.$refs.invitForm.validate((function(t){t&&(e.loading=!0,Object(a["l"])(e.invitForm).then((function(e){setTimeout((function(){this.loading=!1,this.showIndex=2}),100)})).catch((function(t){e.loading=!1,console.log("error=="+JSON.stringify(t))})))}))):2==this.showIndex&&this.$refs.registerForm.validate((function(t){t&&(e.loading=!0,Object(a["j"])(e.registerForm).then((function(e){setTimeout((function(){this.loading=!1}),100)})).catch((function(t){e.loading=!1,console.log("error=="+JSON.stringify(t))})))}))},getCode:function(){Object(a["k"])(this.invitForm).then((function(e){setTimeout((function(){var e=this,t=30;this.timer||(this.count=t,this.show=!1,this.timer=setInterval((function(){e.count>0&&e.count<=t?e.count--:(e.show=!0,clearInterval(e.timer),e.timer=null)}),1e3))}),100)})).catch((function(e){console.log("error=="+JSON.stringify(e))}))},getInviteCode:function(){window.open("https://www.yueli.com/#/product/jb?id=1")}})},u=c,d=(n("868d"),n("77b3"),n("2877")),p=Object(d["a"])(u,o,i,!1,null,"a1e65962",null);t["default"]=p.exports},caf6:function(e,t,n){"use strict";n.d(t,"i",(function(){return i})),n.d(t,"l",(function(){return r})),n.d(t,"k",(function(){return a})),n.d(t,"j",(function(){return s})),n.d(t,"h",(function(){return c})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return g})),n.d(t,"a",(function(){return v}));var o=n("b775");function i(e){return Object(o["a"])({url:"/users/login",method:"post",data:e})}function r(e){return Object(o["a"])({url:"/users/verify_invitation",method:"post",data:e})}function a(e){return Object(o["a"])({url:"/users/send_reg_code",method:"post",data:e})}function s(e){return Object(o["a"])({url:"/users/register",method:"post",data:e})}function l(e,t){return Object(o["a"])({url:e,method:"post",transformRequest:[function(e){var t="";for(var n in e)t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n])+"&";return t=t.substring(0,t.lastIndexOf("&")),t}],data:t})}function c(e){return l("/hao-pian-zhang-api/title_label",e)}function u(e){return l("/hao-pian-zhang-api/sim",e)}function d(e){return l("/hao-pian-zhang-api/template",e)}function p(e){return l("/hao-pian-zhang-api/search",e)}function m(e){return l("/hao-pian-zhang-api/paragraphs",e)}function g(e){return l("/hao-pian-zhang-api/save_paragraphs",e)}function v(e){return l("/hao-pian-zhang-api/my_article",e)}}}]);